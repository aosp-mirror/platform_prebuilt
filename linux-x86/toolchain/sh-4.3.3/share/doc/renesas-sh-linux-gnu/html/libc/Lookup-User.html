<html lang="en">
<head>
<title>Lookup User - The GNU C Library</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU C Library">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="User-Database.html#User-Database" title="User Database">
<link rel="prev" href="User-Data-Structure.html#User-Data-Structure" title="User Data Structure">
<link rel="next" href="Scanning-All-Users.html#Scanning-All-Users" title="Scanning All Users">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This file documents the GNU C library.

This is Edition 0.12, last updated 2007-10-27,
of `The GNU C Library Reference Manual', for version
2.8 (Sourcery G++ Lite 4.3-143).

Copyright (C) 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2001, 2002,
2003, 2007, 2008 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``Free Software Needs Free Documentation''
and ``GNU Lesser General Public License'', the Front-Cover texts being
``A GNU Manual'', and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License".

(a) The FSF's Back-Cover Text is: ``You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom.''-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" type="text/css" href="../cs.css">
</head>
<body>
<div class="node">
<a name="Lookup-User"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Scanning-All-Users.html#Scanning-All-Users">Scanning All Users</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="User-Data-Structure.html#User-Data-Structure">User Data Structure</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="User-Database.html#User-Database">User Database</a>
<hr>
</div>

<h4 class="subsection">29.13.2 Looking Up One User</h4>

<p><a name="index-converting-user-ID-to-user-name-3392"></a><a name="index-converting-user-name-to-user-ID-3393"></a>
You can search the system user database for information about a
specific user using <code>getpwuid</code> or <code>getpwnam</code>.  These
functions are declared in <samp><span class="file">pwd.h</span></samp>.

<!-- pwd.h -->
<!-- POSIX.1 -->
<div class="defun">
&mdash; Function: struct passwd * <b>getpwuid</b> (<var>uid_t uid</var>)<var><a name="index-getpwuid-3394"></a></var><br>
<blockquote><p>This function returns a pointer to a statically-allocated structure
containing information about the user whose user ID is <var>uid</var>.  This
structure may be overwritten on subsequent calls to <code>getpwuid</code>.

        <p>A null pointer value indicates there is no user in the data base with
user ID <var>uid</var>. 
</p></blockquote></div>

<!-- pwd.h -->
<!-- POSIX.1c -->
<div class="defun">
&mdash; Function: int <b>getpwuid_r</b> (<var>uid_t uid, struct passwd *result_buf, char *buffer, size_t buflen, struct passwd **result</var>)<var><a name="index-getpwuid_005fr-3395"></a></var><br>
<blockquote><p>This function is similar to <code>getpwuid</code> in that it returns
information about the user whose user ID is <var>uid</var>.  However, it
fills the user supplied structure pointed to by <var>result_buf</var> with
the information instead of using a static buffer.  The first
<var>buflen</var> bytes of the additional buffer pointed to by <var>buffer</var>
are used to contain additional information, normally strings which are
pointed to by the elements of the result structure.

        <p>If a user with ID <var>uid</var> is found, the pointer returned in
<var>result</var> points to the record which contains the wanted data (i.e.,
<var>result</var> contains the value <var>result_buf</var>).  If no user is found
or if an error occurred, the pointer returned in <var>result</var> is a null
pointer.  The function returns zero or an error code.  If the buffer
<var>buffer</var> is too small to contain all the needed information, the
error code <code>ERANGE</code> is returned and <var>errno</var> is set to
<code>ERANGE</code>. 
</p></blockquote></div>

<!-- pwd.h -->
<!-- POSIX.1 -->
<div class="defun">
&mdash; Function: struct passwd * <b>getpwnam</b> (<var>const char *name</var>)<var><a name="index-getpwnam-3396"></a></var><br>
<blockquote><p>This function returns a pointer to a statically-allocated structure
containing information about the user whose user name is <var>name</var>. 
This structure may be overwritten on subsequent calls to
<code>getpwnam</code>.

        <p>A null pointer return indicates there is no user named <var>name</var>. 
</p></blockquote></div>

<!-- pwd.h -->
<!-- POSIX.1c -->
<div class="defun">
&mdash; Function: int <b>getpwnam_r</b> (<var>const char *name, struct passwd *result_buf, char *buffer, size_t buflen, struct passwd **result</var>)<var><a name="index-getpwnam_005fr-3397"></a></var><br>
<blockquote><p>This function is similar to <code>getpwnam</code> in that is returns
information about the user whose user name is <var>name</var>.  However, like
<code>getpwuid_r</code>, it fills the user supplied buffers in
<var>result_buf</var> and <var>buffer</var> with the information instead of using
a static buffer.

        <p>The return values are the same as for <code>getpwuid_r</code>. 
</p></blockquote></div>

   </body></html>

