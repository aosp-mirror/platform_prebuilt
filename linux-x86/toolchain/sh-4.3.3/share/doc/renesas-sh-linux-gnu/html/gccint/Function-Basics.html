<html lang="en">
<head>
<title>Function Basics - GNU Compiler Collection (GCC) Internals</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Compiler Collection (GCC) Internals">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Functions.html#Functions" title="Functions">
<link rel="next" href="Function-Bodies.html#Function-Bodies" title="Function Bodies">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,
2007 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'' and ``Funding
Free Software'', the Front-Cover texts being (a) (see below), and with
the Back-Cover Texts being (b) (see below).  A copy of the license is
included in the section entitled ``GNU Free Documentation License''.

(a) The FSF's Front-Cover Text is:

     A GNU Manual

(b) The FSF's Back-Cover Text is:

     You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" type="text/css" href="../cs.css">
</head>
<body>
<div class="node">
<a name="Function-Basics"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Function-Bodies.html#Function-Bodies">Function Bodies</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Functions.html#Functions">Functions</a>
<hr>
</div>

<h4 class="subsection">9.6.1 Function Basics</h4>

<p><a name="index-constructor-1839"></a><a name="index-destructor-1840"></a><a name="index-copy-constructor-1841"></a><a name="index-assignment-operator-1842"></a><a name="index-linkage-1843"></a><a name="index-DECL_005fNAME-1844"></a><a name="index-DECL_005fASSEMBLER_005fNAME-1845"></a><a name="index-TREE_005fPUBLIC-1846"></a><a name="index-DECL_005fLINKONCE_005fP-1847"></a><a name="index-DECL_005fFUNCTION_005fMEMBER_005fP-1848"></a><a name="index-DECL_005fCONSTRUCTOR_005fP-1849"></a><a name="index-DECL_005fDESTRUCTOR_005fP-1850"></a><a name="index-DECL_005fOVERLOADED_005fOPERATOR_005fP-1851"></a><a name="index-DECL_005fCONV_005fFN_005fP-1852"></a><a name="index-DECL_005fARTIFICIAL-1853"></a><a name="index-DECL_005fGLOBAL_005fCTOR_005fP-1854"></a><a name="index-DECL_005fGLOBAL_005fDTOR_005fP-1855"></a><a name="index-GLOBAL_005fINIT_005fPRIORITY-1856"></a>
The following macros and functions can be used on a <code>FUNCTION_DECL</code>:
     <dl>
<dt><code>DECL_MAIN_P</code><a name="index-DECL_005fMAIN_005fP-1857"></a><dd>This predicate holds for a function that is the program entry point
<code>::code</code>.

     <br><dt><code>DECL_NAME</code><a name="index-DECL_005fNAME-1858"></a><dd>This macro returns the unqualified name of the function, as an
<code>IDENTIFIER_NODE</code>.  For an instantiation of a function template,
the <code>DECL_NAME</code> is the unqualified name of the template, not
something like <code>f&lt;int&gt;</code>.  The value of <code>DECL_NAME</code> is
undefined when used on a constructor, destructor, overloaded operator,
or type-conversion operator, or any function that is implicitly
generated by the compiler.  See below for macros that can be used to
distinguish these cases.

     <br><dt><code>DECL_ASSEMBLER_NAME</code><a name="index-DECL_005fASSEMBLER_005fNAME-1859"></a><dd>This macro returns the mangled name of the function, also an
<code>IDENTIFIER_NODE</code>.  This name does not contain leading underscores
on systems that prefix all identifiers with underscores.  The mangled
name is computed in the same way on all platforms; if special processing
is required to deal with the object file format used on a particular
platform, it is the responsibility of the back end to perform those
modifications.  (Of course, the back end should not modify
<code>DECL_ASSEMBLER_NAME</code> itself.)

     <p>Using <code>DECL_ASSEMBLER_NAME</code> will cause additional memory to be
allocated (for the mangled name of the entity) so it should be used
only when emitting assembly code.  It should not be used within the
optimizers to determine whether or not two declarations are the same,
even though some of the existing optimizers do use it in that way. 
These uses will be removed over time.

     <br><dt><code>DECL_EXTERNAL</code><a name="index-DECL_005fEXTERNAL-1860"></a><dd>This predicate holds if the function is undefined.

     <br><dt><code>TREE_PUBLIC</code><a name="index-TREE_005fPUBLIC-1861"></a><dd>This predicate holds if the function has external linkage.

     <br><dt><code>DECL_LOCAL_FUNCTION_P</code><a name="index-DECL_005fLOCAL_005fFUNCTION_005fP-1862"></a><dd>This predicate holds if the function was declared at block scope, even
though it has a global scope.

     <br><dt><code>DECL_ANTICIPATED</code><a name="index-DECL_005fANTICIPATED-1863"></a><dd>This predicate holds if the function is a built-in function but its
prototype is not yet explicitly declared.

     <br><dt><code>DECL_EXTERN_C_FUNCTION_P</code><a name="index-DECL_005fEXTERN_005fC_005fFUNCTION_005fP-1864"></a><dd>This predicate holds if the function is declared as an
`<code>extern "C"</code>' function.

     <br><dt><code>DECL_LINKONCE_P</code><a name="index-DECL_005fLINKONCE_005fP-1865"></a><dd>This macro holds if multiple copies of this function may be emitted in
various translation units.  It is the responsibility of the linker to
merge the various copies.  Template instantiations are the most common
example of functions for which <code>DECL_LINKONCE_P</code> holds; G++
instantiates needed templates in all translation units which require them,
and then relies on the linker to remove duplicate instantiations.

     <p>FIXME: This macro is not yet implemented.

     <br><dt><code>DECL_FUNCTION_MEMBER_P</code><a name="index-DECL_005fFUNCTION_005fMEMBER_005fP-1866"></a><dd>This macro holds if the function is a member of a class, rather than a
member of a namespace.

     <br><dt><code>DECL_STATIC_FUNCTION_P</code><a name="index-DECL_005fSTATIC_005fFUNCTION_005fP-1867"></a><dd>This predicate holds if the function a static member function.

     <br><dt><code>DECL_NONSTATIC_MEMBER_FUNCTION_P</code><a name="index-DECL_005fNONSTATIC_005fMEMBER_005fFUNCTION_005fP-1868"></a><dd>This macro holds for a non-static member function.

     <br><dt><code>DECL_CONST_MEMFUNC_P</code><a name="index-DECL_005fCONST_005fMEMFUNC_005fP-1869"></a><dd>This predicate holds for a <code>const</code>-member function.

     <br><dt><code>DECL_VOLATILE_MEMFUNC_P</code><a name="index-DECL_005fVOLATILE_005fMEMFUNC_005fP-1870"></a><dd>This predicate holds for a <code>volatile</code>-member function.

     <br><dt><code>DECL_CONSTRUCTOR_P</code><a name="index-DECL_005fCONSTRUCTOR_005fP-1871"></a><dd>This macro holds if the function is a constructor.

     <br><dt><code>DECL_NONCONVERTING_P</code><a name="index-DECL_005fNONCONVERTING_005fP-1872"></a><dd>This predicate holds if the constructor is a non-converting constructor.

     <br><dt><code>DECL_COMPLETE_CONSTRUCTOR_P</code><a name="index-DECL_005fCOMPLETE_005fCONSTRUCTOR_005fP-1873"></a><dd>This predicate holds for a function which is a constructor for an object
of a complete type.

     <br><dt><code>DECL_BASE_CONSTRUCTOR_P</code><a name="index-DECL_005fBASE_005fCONSTRUCTOR_005fP-1874"></a><dd>This predicate holds for a function which is a constructor for a base
class sub-object.

     <br><dt><code>DECL_COPY_CONSTRUCTOR_P</code><a name="index-DECL_005fCOPY_005fCONSTRUCTOR_005fP-1875"></a><dd>This predicate holds for a function which is a copy-constructor.

     <br><dt><code>DECL_DESTRUCTOR_P</code><a name="index-DECL_005fDESTRUCTOR_005fP-1876"></a><dd>This macro holds if the function is a destructor.

     <br><dt><code>DECL_COMPLETE_DESTRUCTOR_P</code><a name="index-DECL_005fCOMPLETE_005fDESTRUCTOR_005fP-1877"></a><dd>This predicate holds if the function is the destructor for an object a
complete type.

     <br><dt><code>DECL_OVERLOADED_OPERATOR_P</code><a name="index-DECL_005fOVERLOADED_005fOPERATOR_005fP-1878"></a><dd>This macro holds if the function is an overloaded operator.

     <br><dt><code>DECL_CONV_FN_P</code><a name="index-DECL_005fCONV_005fFN_005fP-1879"></a><dd>This macro holds if the function is a type-conversion operator.

     <br><dt><code>DECL_GLOBAL_CTOR_P</code><a name="index-DECL_005fGLOBAL_005fCTOR_005fP-1880"></a><dd>This predicate holds if the function is a file-scope initialization
function.

     <br><dt><code>DECL_GLOBAL_DTOR_P</code><a name="index-DECL_005fGLOBAL_005fDTOR_005fP-1881"></a><dd>This predicate holds if the function is a file-scope finalization
function.

     <br><dt><code>DECL_THUNK_P</code><a name="index-DECL_005fTHUNK_005fP-1882"></a><dd>This predicate holds if the function is a thunk.

     <p>These functions represent stub code that adjusts the <code>this</code> pointer
and then jumps to another function.  When the jumped-to function
returns, control is transferred directly to the caller, without
returning to the thunk.  The first parameter to the thunk is always the
<code>this</code> pointer; the thunk should add <code>THUNK_DELTA</code> to this
value.  (The <code>THUNK_DELTA</code> is an <code>int</code>, not an
<code>INTEGER_CST</code>.)

     <p>Then, if <code>THUNK_VCALL_OFFSET</code> (an <code>INTEGER_CST</code>) is nonzero
the adjusted <code>this</code> pointer must be adjusted again.  The complete
calculation is given by the following pseudo-code:

     <pre class="smallexample">          this += THUNK_DELTA
          if (THUNK_VCALL_OFFSET)
            this += (*((ptrdiff_t **) this))[THUNK_VCALL_OFFSET]
</pre>
     <p>Finally, the thunk should jump to the location given
by <code>DECL_INITIAL</code>; this will always be an expression for the
address of a function.

     <br><dt><code>DECL_NON_THUNK_FUNCTION_P</code><a name="index-DECL_005fNON_005fTHUNK_005fFUNCTION_005fP-1883"></a><dd>This predicate holds if the function is <em>not</em> a thunk function.

     <br><dt><code>GLOBAL_INIT_PRIORITY</code><a name="index-GLOBAL_005fINIT_005fPRIORITY-1884"></a><dd>If either <code>DECL_GLOBAL_CTOR_P</code> or <code>DECL_GLOBAL_DTOR_P</code> holds,
then this gives the initialization priority for the function.  The
linker will arrange that all functions for which
<code>DECL_GLOBAL_CTOR_P</code> holds are run in increasing order of priority
before <code>main</code> is called.  When the program exits, all functions for
which <code>DECL_GLOBAL_DTOR_P</code> holds are run in the reverse order.

     <br><dt><code>DECL_ARTIFICIAL</code><a name="index-DECL_005fARTIFICIAL-1885"></a><dd>This macro holds if the function was implicitly generated by the
compiler, rather than explicitly declared.  In addition to implicitly
generated class member functions, this macro holds for the special
functions created to implement static initialization and destruction, to
compute run-time type information, and so forth.

     <br><dt><code>DECL_ARGUMENTS</code><a name="index-DECL_005fARGUMENTS-1886"></a><dd>This macro returns the <code>PARM_DECL</code> for the first argument to the
function.  Subsequent <code>PARM_DECL</code> nodes can be obtained by
following the <code>TREE_CHAIN</code> links.

     <br><dt><code>DECL_RESULT</code><a name="index-DECL_005fRESULT-1887"></a><dd>This macro returns the <code>RESULT_DECL</code> for the function.

     <br><dt><code>TREE_TYPE</code><a name="index-TREE_005fTYPE-1888"></a><dd>This macro returns the <code>FUNCTION_TYPE</code> or <code>METHOD_TYPE</code> for
the function.

     <br><dt><code>TYPE_RAISES_EXCEPTIONS</code><a name="index-TYPE_005fRAISES_005fEXCEPTIONS-1889"></a><dd>This macro returns the list of exceptions that a (member-)function can
raise.  The returned list, if non <code>NULL</code>, is comprised of nodes
whose <code>TREE_VALUE</code> represents a type.

     <br><dt><code>TYPE_NOTHROW_P</code><a name="index-TYPE_005fNOTHROW_005fP-1890"></a><dd>This predicate holds when the exception-specification of its arguments
if of the form `<code>()</code>'.

     <br><dt><code>DECL_ARRAY_DELETE_OPERATOR_P</code><a name="index-DECL_005fARRAY_005fDELETE_005fOPERATOR_005fP-1891"></a><dd>This predicate holds if the function an overloaded
<code>operator delete[]</code>.

 </dl>

<!--  -->
<!-- Function Bodies -->
<!--  -->
 </body></html>

